<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Preisrechner & Tabellen | Apex Stylebreaker</title>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Montserrat', Arial, sans-serif;
      background: #fff;
      color: #181818;
      margin: 0;
      padding: 0;
    }
    .container {
      display: flex;
      gap: 2.5rem;
      align-items: flex-start;
      justify-content: center;
      max-width: 1200px;
      margin: 2.5rem auto 2.5rem auto;
      padding: 0 1rem;
    }
    .preisrechner-box {
      flex: 1.2;
      background: #fff;
      border-radius: 16px;
      box-shadow: 0 6px 28px rgba(0,0,0,0.10);
      padding: 2.2rem 1.5rem 1.7rem 1.5rem;
      min-width: 330px;
      max-width: 500px;
    }
    .tabellen-box {
      flex: 1.1;
      background: #f8f8f8;
      border-radius: 16px;
      box-shadow: 0 6px 28px rgba(0,0,0,0.08);
      padding: 2.2rem 1.3rem 1.7rem 1.3rem;
      min-width: 280px;
      max-width: 450px;
      font-size: 0.98rem;
    }
    h2 {
      color: #f07f10;
      font-weight: 700;
      font-size: 1.42rem;
      margin-bottom: 1.1rem;
      letter-spacing: 0.01em;
    }
    .tabellen-box table {
      border-collapse: collapse;
      width: 100%;
      margin-bottom: 2.1rem;
      background: #fff;
      border-radius: 10px;
      overflow: hidden;
      box-shadow: 0 1px 4px #0001;
    }
    .tabellen-box th, .tabellen-box td {
      border: 1px solid #ececec;
      padding: 0.6rem 0.5rem;
      text-align: center;
    }
    .tabellen-box th {
      background: #f07f10;
      color: #fff;
      font-weight: 700;
      font-size: 1.05rem;
    }
    .tabellen-box caption {
      caption-side: top;
      font-size: 1.1rem;
      font-weight: bold;
      color: #181818;
      margin-bottom: 0.4rem;
      letter-spacing: 0.01em;
    }
    .tabellen-box td:first-child, .tabellen-box th:first-child {
      font-weight: bold;
      background: #fdf2e6;
      color: #d9670c;
    }
    @media (max-width: 1000px) {
      .container {
        flex-direction: column;
        gap: 2.5rem;
        max-width: 95vw;
      }
      .preisrechner-box, .tabellen-box {
        max-width: 98vw;
      }
    }
    label {
      display: block;
      margin-top: 1rem;
      font-weight: bold;
    }
    input, select {
      padding: 0.6rem;
      margin-top: 0.3rem;
      width: 100%;
      border: 1px solid #ccc;
      border-radius: 5px;
      font-family: 'Montserrat', Arial, sans-serif;
      background-color: #fdfdfd;
      box-shadow: inset 0 1px 3px rgba(0,0,0,0.05);
    }
    .motiv-block {
      margin: 1.5rem 0;
      padding: 1rem;
      border: 1.5px solid #f07f10;
      border-radius: 9px;
      background: #fff;
      position: relative;
    }
    .remove-btn {
      position: absolute;
      top: 1rem;
      right: 1rem;
      background: #eee;
      color: #c00;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      font-size: 1.1rem;
      padding: 0.2rem 0.7rem;
      font-weight: bold;
    }
    .add-btn {
      margin-top: 1.5rem;
      padding: 0.6rem 1.4rem;
      background: #f07f10;
      color: #fff;
      border: none;
      border-radius: 7px;
      cursor: pointer;
      font-size: 1.05rem;
      font-family: 'Montserrat', Arial, sans-serif;
      font-weight: bold;
      box-shadow: 0 3px 7px rgba(0,0,0,0.10);
      transition: background 0.2s;
    }
    .add-btn:hover {
      background: #e26e0f;
    }
    .result {
      margin-top: 2rem;
      padding: 1.5rem;
      background: #ffffff;
      border: 2px solid #f07f10;
      border-radius: 10px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.08);
      font-size: 1.4rem;
      color: #f07f10;
      text-align: center;
    }
    h1 {
      color: #f07f10;
      text-shadow: 1px 1px 2px #0001;
      font-size: 2.1rem;
      margin-bottom: 1.1rem;
      font-family: 'Montserrat', Arial, sans-serif;
      font-weight: 700;
      letter-spacing: 0.01em;
      text-align: center;
    }
    .versandHinweis {
      color:#f07f10; 
      font-weight: bold; 
      margin-top: 0.8rem; 
      display:none;
    }
  </style>
</head>
<body>
  <h1>Preisrechner &amp; Preistabellen</h1>
  <div class="container">
    <!-- Preisrechner -->
    <div class="preisrechner-box">
      <h2>Dein persönlicher Preisrechner</h2>
      <label>Stückzahl Hauptmotiv:</label>
      <input type="number" id="quantityMain" min="1" value="1">

      <label>Textilart:</label>
      <select id="textile">
        <option value="3.49">T-Shirt Rundhals</option>
        <option value="3.49">T-Shirt V-Ausschnitt</option>
        <option value="6.49">Polo Shirt</option>
        <option value="0">Eigenes Textil (kein Aufpreis)</option>
      </select>

      <label>Druckart Hauptmotiv:</label>
      <select id="druckartMain">
        <option value="flex">Flexfolien</option>
        <option value="dtf">DTF Foto</option>
      </select>

      <label>Format Hauptmotiv:</label>
      <select id="formatMain"></select>

      <label>Zusätzliche Pressvorgänge (Rücken, Ärmel etc.):</label>
      <input type="number" id="extraPress" min="0" value="0">

      <hr style="margin:2rem 0 1rem 0; border:0; border-top:1.5px solid #ccc;">

      <div id="zusatzmotive"></div>
      <button type="button" class="add-btn" onclick="addMotivBlock()">+ Weiteres Motiv hinzufügen</button>

      <label>Lieferoption:</label>
      <select id="shippingOption">
        <option value="abholung">Abholung im Shop</option>
        <option value="versand">Versand (Kosten zuzüglich)</option>
      </select>

      <div class="result" id="result">Gesamtpreis: 0,00 €</div>
      <div class="versandHinweis" id="versandHinweis">
        Versandkosten zuzüglich
      </div>
    </div>
    <!-- Tabellen -->
    <div class="tabellen-box">
      <h2>Preisstaffeln &amp; Formate</h2>
      <table>
        <caption>Pressen pro Shirt (Grundpreis)</caption>
        <tr><th>Stk.</th><th>Preis&nbsp;€</th></tr>
        <tr><td>1</td><td>7,99</td></tr>
        <tr><td>10</td><td>7,79</td></tr>
        <tr><td>35</td><td>7,49</td></tr>
        <tr><td>50</td><td>6,59</td></tr>
        <tr><td>80</td><td>5,99</td></tr>
        <tr><td>100</td><td>5,29</td></tr>
        <tr><td colspan="2" style="background:#fffbe8;color:#c15c00;font-weight:500;">Je zusätzlicher Pressvorgang (z.B. Rücken, Ärmel): <b>4,99&nbsp;€</b></td></tr>
      </table>
      <table>
        <caption>Flexfolien Druck (einfärbig)</caption>
        <tr>
          <th>Stk.</th>
          <th>9 x 14 cm<br><span style="font-weight:400;font-size:0.95em;">(klein)</span></th>
          <th>16,3 x 19,6 cm<br><span style="font-weight:400;font-size:0.95em;">(mittel)</span></th>
          <th>19,6 x 30 cm<br><span style="font-weight:400;font-size:0.95em;">(groß)</span></th>
        </tr>
        <tr><td>1</td><td>2,49</td><td>3,59</td><td>4,29</td></tr>
        <tr><td>5</td><td>2,29</td><td>3,39</td><td>4,09</td></tr>
        <tr><td>10</td><td>2,19</td><td>3,19</td><td>3,99</td></tr>
        <tr><td>30</td><td>1,89</td><td>2,89</td><td>3,79</td></tr>
        <tr><td>50</td><td>1,79</td><td>2,79</td><td>3,59</td></tr>
        <tr><td>80</td><td>1,69</td><td>2,69</td><td>3,39</td></tr>
        <tr><td>100</td><td>1,59</td><td>2,59</td><td>3,19</td></tr>
      </table>
      <table>
        <caption>DTF Druck – Standard (19,8 x 27,8 cm)</caption>
        <tr><th>Stk.</th><th>Preis €</th></tr>
        <tr><td>1</td><td>8,99</td></tr>
        <tr><td>2</td><td>6,99</td></tr>
        <tr><td>3</td><td>6,79</td></tr>
        <tr><td>4</td><td>6,59</td></tr>
        <tr><td>5</td><td>6,49</td></tr>
        <tr><td>10</td><td>5,19</td></tr>
        <tr><td>30</td><td>4,49</td></tr>
        <tr><td>50</td><td>3,99</td></tr>
        <tr><td>80</td><td>3,49</td></tr>
        <tr><td>100</td><td>2,99</td></tr>
      </table>
      <table>
        <caption>DTF Druck – DIN A3 (29,7 x 42 cm)</caption>
        <tr><th>Stk.</th><th>Preis €</th></tr>
        <tr><td>1</td><td>12,79</td></tr>
        <tr><td>2</td><td>11,19</td></tr>
        <tr><td>3</td><td>10,69</td></tr>
        <tr><td>4</td><td>10,59</td></tr>
        <tr><td>5</td><td>10,49</td></tr>
        <tr><td>10</td><td>9,99</td></tr>
        <tr><td>30</td><td>8,99</td></tr>
        <tr><td>50</td><td>7,99</td></tr>
        <tr><td>80</td><td>6,99</td></tr>
        <tr><td>100</td><td>5,99</td></tr>
      </table>
      <div style="margin-top:1.4rem; color:#b25a00;">
        <b>Größeres Sonderformat:</b> Preis auf Anfrage (max 38 x 48 cm)
      </div>
      <div style="margin-top:1.1rem; color:#a55a0d; font-size:0.98em;">
        <b>Eigene Textilien:</b> Taschen, Rucksäcke, Pullover, Shirts etc. möglich.
      </div>
    </div>
  </div>
  <script>
    // Preisstaffeln (Flex/DTF/Pressen)
    const flexPrices = {
      "9x14":   [2.49, 2.29, 2.19, 1.89, 1.79, 1.69, 1.59], // 1, 5, 10, 30, 50, 80, 100
      "16x20":  [3.59, 3.39, 3.19, 2.89, 2.79, 2.69, 2.59],
      "20x30":  [4.29, 4.09, 3.99, 3.79, 3.59, 3.39, 3.19]
    };
    const flexStaffel = [1,5,10,30,50,80,100];

    const dtfStandard = [8.99, 6.99, 6.79, 6.59, 6.49, 5.19, 4.49, 3.99, 3.49, 2.99];
    const dtfA3 = [12.79, 11.19, 10.69, 10.59, 10.49, 9.99, 8.99, 7.99, 6.99, 5.99];
    const dtfStaffel = [1,2,3,4,5,10,30,50,80,100];

    const pressPrices = [7.99, 7.79, 7.49, 6.59, 5.99, 5.29];
    const pressStaffel = [1,10,35,50,80,100];

    const formatOptions = {
      "flex": [
        { value: "9x14", label: "9 x 14 cm" },
        { value: "16x20", label: "16,3 x 19,6 cm" },
        { value: "20x30", label: "19,6 x 30 cm" }
      ],
      "dtf": [
        { value: "dtf", label: "Standard (19,8 x 27,8 cm)" },
        { value: "a3", label: "DIN A3 (29,7 x 42 cm)" },
        { value: "sonder", label: "Sonderformat (Preis auf Anfrage)" }
      ]
    };

    function getStaffelpreis(arr, staffel, qty) {
      for (let i = staffel.length - 1; i >= 0; i--) {
        if (qty >= staffel[i]) return arr[i];
      }
      return arr[0];
    }

    function updateFormatOptions(selectId, formatId) {
      let druckart, formatSelect;
      if (!selectId && !formatId) {
        druckart = document.getElementById('druckartMain').value;
        formatSelect = document.getElementById('formatMain');
      } else {
        druckart = document.getElementById(selectId).value;
        formatSelect = document.getElementById(formatId);
      }
      formatSelect.innerHTML = "";
      formatOptions[druckart].forEach(opt => {
        let o = document.createElement("option");
        o.value = opt.value;
        o.text = opt.label;
        formatSelect.appendChild(o);
      });
    }

    // Zusatzmotiv-Block hinzufügen
    let motivId = 0;
    function addMotivBlock() {
      motivId++;
      const block = document.createElement('div');
      block.className = "motiv-block";
      block.id = "motivBlock" + motivId;
      const druckartId = "druckart" + motivId;
      const formatId = "format" + motivId;
      block.innerHTML = `
        <button type="button" class="remove-btn" onclick="removeMotivBlock('${block.id}')">&times;</button>
        <label>Druckart Zusatzmotiv:</label>
        <select id="${druckartId}">
          <option value="flex">Flexfolien</option>
          <option value="dtf">DTF Foto</option>
        </select>
        <label>Format Zusatzmotiv:</label>
        <select id="${formatId}"></select>
        <label>Stückzahl Zusatzmotiv:</label>
        <input type="number" id="quantity${motivId}" min="1" value="1">
      `;
      document.getElementById('zusatzmotive').appendChild(block);

      updateFormatOptions(druckartId, formatId);

      document.getElementById(druckartId).addEventListener('change', function() {
        updateFormatOptions(druckartId, formatId);
        calculate();
      });

      document.getElementById(druckartId).addEventListener('input', calculate);
      document.getElementById(formatId).addEventListener('input', calculate);
      document.getElementById("quantity" + motivId).addEventListener('input', calculate);

      calculate();
    }

    function removeMotivBlock(id) {
      document.getElementById(id).remove();
      calculate();
    }

    function calculate() {
      // Hauptmotiv
      const qtyMain = parseInt(document.getElementById('quantityMain').value) || 0;
      const textilePrice = parseFloat(document.getElementById('textile').value) || 0;
      const druckartMain = document.getElementById('druckartMain').value;
      const formatMain = document.getElementById('formatMain').value;
      const extras = parseInt(document.getElementById('extraPress').value) || 0;

      let pressBase = getStaffelpreis(pressPrices, pressStaffel, qtyMain);
      let pressTotal = pressBase + (extras * 4.99);

      let druckPreisMain = 0;
      if (druckartMain === 'flex') {
        druckPreisMain = getStaffelpreis(flexPrices[formatMain], flexStaffel, qtyMain);
      } else if (druckartMain === 'dtf') {
        if (formatMain === "a3") druckPreisMain = getStaffelpreis(dtfA3, dtfStaffel, qtyMain);
        else if (formatMain === "dtf") druckPreisMain = getStaffelpreis(dtfStandard, dtfStaffel, qtyMain);
        else druckPreisMain = 0; // Sonderformat
      }
      let mainTotal = 0;
      if (formatMain === "sonder") {
        document.getElementById('result').innerText = "Sonderformat Hauptmotiv: Preis auf Anfrage";
        document.getElementById('versandHinweis').style.display = 
          (document.getElementById('shippingOption').value === 'versand') ? 'block' : 'none';
        return;
      } else {
        mainTotal = (textilePrice + pressTotal + druckPreisMain) * qtyMain;
      }

      // Zusatzmotive summieren
      let zusatzTotal = 0;
      let sonderHinweis = false;
      document.querySelectorAll('.motiv-block').forEach(block => {
        const num = block.id.replace("motivBlock","");
        const druckart = document.getElementById('druckart'+num).value;
        const format = document.getElementById('format'+num).value;
        const qty = parseInt(document.getElementById('quantity'+num).value) || 0;
        let preis = 0;
        if (druckart === 'flex') {
          preis = getStaffelpreis(flexPrices[format], flexStaffel, qty);
        } else if (druckart === 'dtf') {
          if (format === "a3") preis = getStaffelpreis(dtfA3, dtfStaffel, qty);
          else if (format === "dtf") preis = getStaffelpreis(dtfStandard, dtfStaffel, qty);
          else preis = 0;
        }
        if (format === "sonder") sonderHinweis = true;
        else zusatzTotal += (preis * qty);
      });

      if (sonderHinweis) {
        document.getElementById('result').innerText = "Sonderformat bei Zusatzmotiv: Preis auf Anfrage";
        document.getElementById('versandHinweis').style.display = 
          (document.getElementById('shippingOption').value === 'versand') ? 'block' : 'none';
        return;
      }

      const gesamt = mainTotal + zusatzTotal;

      document.getElementById('result').innerText = `Gesamtpreis: ${gesamt.toFixed(2)} €`;

      // Versandhinweis
      const shippingOption = document.getElementById('shippingOption').value;
      document.getElementById('versandHinweis').style.display = (shippingOption === 'versand') ? 'block' : 'none';
    }

    // Events
    document.getElementById('quantityMain').addEventListener('input', calculate);
    document.getElementById('textile').addEventListener('input', calculate);
    document.getElementById('druckartMain').addEventListener('change', function() {
      updateFormatOptions();
      calculate();
    });
    document.getElementById('formatMain').addEventListener('input', calculate);
    document.getElementById('extraPress').addEventListener('input', calculate);
    document.getElementById('shippingOption').addEventListener('change', calculate);

    // Init
    updateFormatOptions();
    calculate();
  </script>
</body>
</html>